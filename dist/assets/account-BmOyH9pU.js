import"./modulepreload-polyfill-B5Qt9EMX.js";import"./index.esm-BeIn6wDe.js";import{initializeApp as n}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";import{getAuth as l,createUserWithEmailAndPassword as c,sendEmailVerification as d,onAuthStateChanged as m}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";import{getFirestore as u,setDoc as f,doc as p}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";const g={apiKey:"AIzaSyABYV12B7RM2ZCD2G1lFTLpgJwflJFwEXY",authDomain:"beal-offshore.firebaseapp.com",projectId:"beal-offshore",storageBucket:"beal-offshore.firebasestorage.app",messagingSenderId:"1091834410162",appId:"1:1091834410162:web:56285433b5751e681745ab",measurementId:"G-CT463F3T6J"},i=n(g),o=l(i),y=u(i),w=async t=>{const e=document.getElementById("create-account-btn");e.disabled=!0,e.textContent="Creating Account...";try{const r=(await c(o,t.email,t.password)).user;await f(p(y,"users",r.uid),{firstName:t.firstName,lastName:t.lastName,email:t.email,accountType:t.accountType,createdAt:new Date().toISOString()}),await d(r),alert("Account created! A verification email has been sent. Please check your inbox to verify your account."),m(o,s=>{s&&(s.emailVerified?console.log("Email verified. Access granted."):console.log("Email not verified. Please verify your email."))}),document.getElementById("success-modal").classList.remove("hidden")}catch(a){console.error("Error during sign-up:",a.message,a.code);const r=h(a.code);alert(r)}finally{e.disabled=!1,e.textContent="Create Account"}},h=t=>{switch(t){case"auth/email-already-in-use":return"This email is already registered. Please use a different email.";case"auth/weak-password":return"The password is too weak. Please choose a stronger password.";case"auth/invalid-email":return"The email address is invalid. Please enter a valid email.";default:return"An error occurred during sign-up. Please try again."}};document.querySelector("form").addEventListener("submit",t=>{t.preventDefault();const e={firstName:document.getElementById("first-name").value.trim(),lastName:document.getElementById("last-name").value.trim(),email:document.getElementById("email").value.trim(),accountType:document.getElementById("account-type").value,password:document.getElementById("password").value,confirmPassword:document.getElementById("confirm-password").value};if(!e.firstName||!e.lastName||!e.email||!e.password||!e.accountType){alert("All fields are required.");return}if(e.password!==e.confirmPassword){alert("Passwords do not match.");return}if(e.password.length<8){alert("Password must be at least 8 characters long.");return}w(e)});
