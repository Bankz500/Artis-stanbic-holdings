import"./modulepreload-polyfill-B5Qt9EMX.js";import{initializeApp as r}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";import{getAuth as c,createUserWithEmailAndPassword as o}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";import{getFirestore as d,setDoc as i,doc as l}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";const u={apiKey:"AIzaSyDyZiL4-h5n9Kqr24e7liROgHXMZau2ZmI",authDomain:"artis-stanbic-holdings.firebaseapp.com",projectId:"artis-stanbic-holdings",storageBucket:"artis-stanbic-holdings.appspot.com",messagingSenderId:"124094989669",appId:"1:124094989669:web:54e6306dc5747a80ec8d8c",measurementId:"G-0WSC5YMY2C"},n=r(u),m=c(n),p=d(n),g=()=>{document.getElementById("success-modal").classList.remove("hidden")},y=e=>{switch(e){case"auth/email-already-in-use":return"This email is already registered. Please use a different email.";case"auth/weak-password":return"The password is too weak. Please choose a stronger password.";case"auth/invalid-email":return"The email address is invalid. Please enter a valid email.";default:return"An error occurred during sign-up. Please try again."}},h=async e=>{const t=document.getElementById("create-account-btn");t.disabled=!0,t.textContent="Opening Account...";try{const a=(await o(m,e.email,e.password)).user;await i(l(p,"users",a.uid),{firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,address:e.address,city:e.city,state:e.state,accountType:e.accountType,createdAt:new Date().toISOString()}),g()}catch(s){console.error("Error during sign-up:",s.code,s.message);const a=y(s.code);alert(a)}finally{t.disabled=!1,t.textContent="Create Account"}};document.querySelector("form").addEventListener("submit",e=>{e.preventDefault();const t={firstName:document.getElementById("first-name").value,lastName:document.getElementById("last-name").value,email:document.getElementById("email").value,phone:document.getElementById("phone").value,address:document.getElementById("address").value,city:document.getElementById("city").value,state:document.getElementById("state").value,accountType:document.getElementById("account-type").value,password:document.getElementById("password").value};h(t)});
