import"./modulepreload-polyfill-B5Qt9EMX.js";import"./index.esm-BeIn6wDe.js";import{initializeApp as n}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";import{getAuth as o,createUserWithEmailAndPassword as i}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";import{getFirestore as d,setDoc as c,doc as l}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";const m={apiKey:"AIzaSyCJdMdkW5NZF83PLBLYZk3yBAFsUxqautY",authDomain:"atpib-82d72.firebaseapp.com",projectId:"atpib-82d72",storageBucket:"atpib-82d72.firebasestorage.app",messagingSenderId:"938927546204",appId:"1:938927546204:web:ea096f1dfe3b3754dd6b99",measurementId:"G-G3BRPK5B9T"},s=n(m),u=o(s),p=d(s),g=async t=>{const e=document.getElementById("create-account-btn");e.disabled=!0,e.textContent="Creating Account...";try{const r=(await i(u,t.email,t.password)).user;await c(l(p,"users",r.uid),{firstName:t.firstName,lastName:t.lastName,email:t.email,accountType:t.accountType,createdAt:new Date().toISOString()}),document.getElementById("success-modal").classList.remove("hidden")}catch(a){console.error("Error during sign-up:",a.message,a.code,a);const r=f(a.code);alert(r)}finally{e.disabled=!1,e.textContent="Create Account"}},f=t=>{switch(t){case"auth/email-already-in-use":return"This email is already registered. Please use a different email.";case"auth/weak-password":return"The password is too weak. Please choose a stronger password.";case"auth/invalid-email":return"The email address is invalid. Please enter a valid email.";default:return"An error occurred during sign-up. Please try again."}};document.querySelector("form").addEventListener("submit",t=>{t.preventDefault();const e={firstName:document.getElementById("first-name").value.trim(),lastName:document.getElementById("last-name").value.trim(),email:document.getElementById("email").value.trim(),accountType:document.getElementById("account-type").value,password:document.getElementById("password").value,confirmPassword:document.getElementById("confirm-password").value};if(!e.firstName||!e.lastName||!e.email||!e.password||!e.accountType){alert("All fields are required.");return}if(e.password!==e.confirmPassword){alert("Passwords do not match.");return}if(e.password.length<8){alert("Password must be at least 8 characters long.");return}g(e)});
