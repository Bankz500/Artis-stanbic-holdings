import"./modulepreload-polyfill-B5Qt9EMX.js";import"./index.esm-BeIn6wDe.js";import{initializeApp as i}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";import{getAuth as c,createUserWithEmailAndPassword as l,sendEmailVerification as d,onAuthStateChanged as u}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";import{getFirestore as m,setDoc as p,doc as g}from"https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";const f={apiKey:"AIzaSyABYV12B7RM2ZCD2G1lFTLpgJwflJFwEXY",authDomain:"beal-offshore.firebaseapp.com",projectId:"beal-offshore",storageBucket:"beal-offshore.firebasestorage.app",messagingSenderId:"1091834410162",appId:"1:1091834410162:web:56285433b5751e681745ab",measurementId:"G-CT463F3T6J"},n=i(f),o=c(n),w=m(n),h=async t=>{const e=document.getElementById("create-account-btn");e.disabled=!0,e.textContent="Creating Account...";try{const s=(await l(o,t.email,t.password)).user;await p(g(w,"users",s.uid),{firstName:t.firstName,lastName:t.lastName,email:t.email,accountType:t.accountType,createdAt:new Date().toISOString()}),await d(s),alert("Account details is been processed, we would get back to you in 24 hours on the status of your account opening"),u(o,r=>{r&&(r.emailVerified?console.log("Email verified. Access granted."):console.log("Account information is been processed."))}),document.getElementById("success-modal").classList.remove("hidden")}catch(a){console.error("Error during sign-up:",a.message,a.code);const s=y(a.code);alert(s)}finally{e.disabled=!1,e.textContent="Create Account"}},y=t=>{switch(t){case"auth/email-already-in-use":return"This email is already registered. Please use a different email.";case"auth/weak-password":return"The password is too weak. Please choose a stronger password.";case"auth/invalid-email":return"The email address is invalid. Please enter a valid email.";default:return"An error occurred during sign-up. Please try again."}};document.querySelector("#business-info-form").addEventListener("submit",t=>{t.preventDefault();const e={firstName:document.getElementById("first-name").value.trim(),lastName:document.getElementById("last-name").value.trim(),email:document.getElementById("email").value.trim(),accountType:document.getElementById("account-type").value,password:document.getElementById("password").value,confirmPassword:document.getElementById("confirm-password").value};if(!e.firstName||!e.lastName||!e.email||!e.password||!e.accountType){alert("All fields are required.");return}if(e.password!==e.confirmPassword){alert("Passwords do not match.");return}if(e.password.length<8){alert("Password must be at least 8 characters long.");return}h(e)});
